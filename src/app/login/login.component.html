<div class="login-container">
  <div class="box-container">
    <div class="logo">
      <h3>cousincircle</h3>
    </div>
    <div *ngIf="showWarning" class="warn-container">
      <p-messages severity="warn">
        <ng-template pTemplate>
          <div class="p-ml-2">Please Enter Email and Password</div>
        </ng-template>
      </p-messages>
    </div>
    <form #loginForm="ngForm" autocomplete="off" class="sign-in">
      <div class="d-flex align-items-start flex-row flex-wrap login-inputs justify-content-center">
        <div class="item-margin mt-4">
          <span class="p-input-icon-left">
            <i class="pi pi-user"></i>
            <input class="text-black base-font user-inputs" type="text" pInputText required name="email"
              placeholder="Email" [(ngModel)]="userName" />
          </span>
        </div>
        <div class="d-flex flex-column item-margin mt-4">
          <div>
            <span class="p-input-icon-left">
              <i class="pi pi-key"></i>
              <input class="text-black base-font user-inputs" type="password" pInputText required name="password"
                placeholder="Password" [(ngModel)]="password" />
            </span>
          </div>
          <div class="forgot-pass mt-3" (click)="forgottPassword = !forgottPassword">
            Forgotten password?
          </div>
          <div class="mt-3 d-flex flex-column">
            <button pButton pRipple type="button" label="Sign In" (click)="validateLogin(loginForm)"
              class="p-button-rounded pl-4 pr-4 pt-2 pb-2 p-button-danger"></button>
            <button pButton pRipple type="button" label="Sign Up" (click)="showSignUp();"
              class="p-button-rounded p-button-outlined pl-4 pr-4  pt-2 pb-2 mt-3 p-button-danger"></button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>


<p-sidebar (onHide)="sideBarHide(signUpForm)" [(visible)]="visibleSidebar" position="right" [baseZIndex]="10000"
  [style]="{width: '300px',height:'100%',overflow:'auto'}">
  <h3 class="text-danger font-weight-bold">Create Account</h3>
  <div>
    <form #signUpForm="ngForm" autocomplete="off">
      <div class="form-group">
        <label for="firstNamefiled" class="control-label">First Name<sup>*</sup></label>
        <input type="text" class="form-control" [class.is-invalid]="(firstName.touched && firstName.invalid)"
          id="firstNamefiled" #firstName="ngModel" [(ngModel)]="signUpObj.firstName" required name="firstName"
          placeholder="First Name">
        <span class="invalid-feedback" *ngIf="(firstName.touched && firstName.invalid)">First Name is
          required</span>
      </div>
      <div class="form-group">
        <label for="lastNamefiled">Last Name<sup>*</sup></label>
        <input type="text" class="form-control" [class.is-invalid]="(lastName.touched && lastName.invalid)"
          id="lastNamefiled" #lastName="ngModel" required [(ngModel)]="signUpObj.lastName" name="lastName"
          placeholder="Last Name">
        <span class="invalid-feedback" *ngIf="(lastName.touched && lastName.invalid)">Last Name is
          required</span>
      </div>
      <div class="form-group">
        <label for="emailfiled">Email<sup>*</sup></label>
        <input type="text" class="form-control" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"
          #email="ngModel" [class.is-invalid]="(email.touched && email.invalid)" id="emailfiled" required name="email"
          [(ngModel)]="signUpObj.email" placeholder="Email">
        <span class="invalid-feedback" *ngIf="(email.touched && email.errors?.required)"> Email is required</span>
        <span class="invalid-feedback" *ngIf="(email.touched && email.errors?.pattern)"> Email is invallid</span>
      </div>
      <div class="form-group p-grid p-fluid">
        <label for="phonefiled" class="d-block">Phone No<sup>*</sup></label>
        <!--  <input type="text"  #phone="ngModel" 
          id="phonefiled" required name="phone" [(ngModel)]="signUpObj.phone" placeholder="Phone No"> -->
        <p-inputMask [required]="true" #phone="ngModel" [class.is-invalid]="(phone.touched && phone.invalid)"
          id="phonefiled" name="phone" placeholder="xxx-xxx-xxx-xxxx" [(ngModel)]="signUpObj.phone" mask="999-999-999-9999">
        </p-inputMask>
        <span class="invalid-feedback" *ngIf="(phone.touched && phone.invalid)">Phone number is
          required</span>
      </div>
      <div class="form-group">
        <label for="cityfiled">City<sup>*</sup></label>
        <input type="text" class="form-control" #city="ngModel" [class.is-invalid]="(city.touched && city.invalid)"
          id="cityfiled" required name="city" [(ngModel)]="signUpObj.city" placeholder="City">
        <span class="invalid-feedback" *ngIf="(city.touched && city.invalid)">City is
          required</span>
      </div>
      <div class="form-group">
        <label for="statefiled">State<sup>*</sup></label>
        <input type="text" class="form-control" #state="ngModel" [class.is-invalid]="(state.touched && state.invalid)"
          id="statefiled" required name="state" [(ngModel)]="signUpObj.state" placeholder="State">
        <span class="invalid-feedback" *ngIf="(state.touched && state.invalid)">State is
          required</span>
      </div>
      <div class="form-group">
        <label for="countryfiled">Country<sup>*</sup></label>
        <input type="text" class="form-control" #country="ngModel"
          [class.is-invalid]="(country.touched && country.invalid)" id="countryfiled" required name="country"
          [(ngModel)]="signUpObj.country" placeholder="Country">
        <span class="invalid-feedback" *ngIf="(country.touched && country.invalid)">Country is
          required</span>
      </div>
      <div class="form-group">
        <label for="passwordfiled">Password<sup>*</sup></label>
        <input type="password" class="form-control" #Password="ngModel"
          [class.is-invalid]="(Password.touched && Password.invalid)" id="countryfiled" required name="country"
          id="passwordfiled" required name="password" [(ngModel)]="signUpObj.password" placeholder="Password"
          (input)="confirmPassword.control.updateValueAndValidity()">
        <span class="invalid-feedback" *ngIf="(Password.touched && Password.invalid)">Password is equired</span>
      </div>
      <div class="form-group">
        <label for="confirmPasswordfiled">Confirm Password<sup>*</sup></label>
        <input type="text" class="form-control" #confirmPassword="ngModel"
          [class.is-invalid]="(confirmPassword.touched && confirmPassword.invalid)" id="confirmPasswordfiled" required
          appConfirmEqualValidator="password" name="confirmPassword" [(ngModel)]="signUpObj.confirmPassword"
          placeholder="Confirm Password">
        <span class="invalid-feedback" *ngIf="(confirmPassword.touched && confirmPassword.errors?.required)">Confirm
          Password is required</span>
        <span class="invalid-feedback" *ngIf="confirmPassword.touched && confirmPassword.errors?.notEqual &&
            !confirmPassword.errors?.required">
          Password and Confirm Password does not match
        </span>
      </div>
    </form>
  </div>
  <button pButton pRipple type="button" label="Sign Up" (click)="createAccount(signUpForm);"
     class="p-button-rounded pl-4 pr-4  pt-2 pb-2 mr-2 mt-3 p-button-danger"></button>
  <button pButton pRipple type="button" label="Cancel" (click)="clearSignUp(signUpForm);"
    class="p-button-rounded p-button-outlined pl-4 pr-4  pt-2 pb-2 mt-3 p-button-danger"></button>
</p-sidebar>


<p-dialog header="Recover Password" [(visible)]="forgottPassword" [modal]="true" [style]="{width: '600px'}"
  [baseZIndex]="10000" [draggable]="false" [resizable]="false" styleClass="recoverPassdialog">
  <div>
    <div class="item-margin mt-4">
      <span class="p-input-icon-left">
        <i class="pi pi-user"></i>
        <input class="text-black base-font user-inputs" type="text" autocomplete="off" pInputText required name="email"
          placeholder="Email" [(ngModel)]="userName" />
      </span>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <button pButton pRipple type="button" label="Submit"
      class="p-button-rounded pl-4 pr-4  pt-2 pb-2 mt-3 p-button-danger"></button>
    <button pButton pRipple type="button" label="Cancel" (click)="forgottPassword=false"
      class="p-button-rounded p-button-outlined pl-4 pr-4  pt-2 pb-2 mt-3 p-button-danger"></button>
  </ng-template>
</p-dialog>

<ngx-loading [show]="showLoading"
  [config]="{ animationType: ngxLoadingAnimationTypes,backdropBackgroundColour: 'rgb(27 25 25 / 60%)',fullScreenBackdrop: true}">
</ngx-loading>